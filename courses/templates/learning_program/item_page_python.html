{% load static %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ item.key }} - {{ item.title }}</title>

    <link rel="stylesheet" href="{% static 'learning_program/editor.css' %}">

    <!-- Ace Editor -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.0/ace.js"></script>
</head>
<body>

<input type="hidden" id="csrf" value="{{ csrf_token }}">

<div class="container">

    <div class="panel left left-panel">


        <!-- ğŸ”¥ ì—¬ê¸°ê°€ ìŠ¤í¬ë¡¤ ì˜ì—­ -->
        <div class="explain-scroll">
            <div class="explain-box">
                {{ item.explain_html|safe }}
            </div>
            <div id="hintBox" class="hint-box" style="display:none;"></div>
            <pre id="answerBox" class="answer-box" style="display:none;"></pre>
        </div>

        <!-- íŒíŠ¸/ì •ë‹µ ë²„íŠ¼ -->
        <div class="button-group-left">
            <button id="btnHint" class="btn hint">íŒíŠ¸ ë³´ê¸°</button>
            <button id="btnAnswer" class="btn answer">ì •ë‹µ ë³´ê¸°</button>
        </div>

        

        <!-- ğŸ”¥ ì™¼ìª½ íŒ¨ë„ ìµœí•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="left-bottom-nav">
            {% if prev_item %}
                <a href="{% url 'item_page' prev_item.id %}" class="nav-btn">â—€ ì´ì „</a>
            {% else %}
                <span class="nav-btn disabled">â—€ ì´ì „</span>
            {% endif %}

            <a href="{% url 'chapter_detail' item.chapter.id %}" class="nav-btn">ëª©ë¡ ë³´ê¸°</a>

            {% if next_item %}
                <a href="{% url 'item_page' next_item.id %}" class="nav-btn">ë‹¤ìŒ â–¶</a>
            {% else %}
                <span class="nav-btn disabled">ë‹¤ìŒ â–¶</span>
            {% endif %}
        </div>
    </div>


    <!-- ğŸ“Œ ì¤‘ì•™: íŒŒì´ì¬ ì—ë””í„° -->
    <div class="panel center center-panel">
        <h3 class="editor-title">ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”</h3>

        <!-- ğŸ”¥ ì—ë””í„°ë¥¼ ì„¸ë¡œ ê½‰ ì°¨ê²Œ -->
        <div class="editor-wrapper">
            <div id="editor">{{ user_code }}</div>
        </div>

        <!-- ğŸ”¥ ì•„ë˜ ê³ ì •ë˜ëŠ” ì˜ì—­ -->
        <div class="fixed-bottom-buttons">
            <button id="btnRun" class="btn run">â–¶ ì‹¤í–‰</button>
            <button id="btnGrade" class="btn grade" data-item="{{ item.id }}">âœ“ ì±„ì í•˜ê¸°</button>
        </div>
    </div>

    <!-- ğŸ“Œ ì˜¤ë¥¸ìª½: ì‹¤í–‰ ê²°ê³¼ -->
    <div class="panel right">
        <h3>ì…ë ¥ê°’ (input)</h3>
        <textarea id="inputBox" class="input-box" placeholder="ì—¬ê¸°ì— input() ê°’ ì…ë ¥. ì—¬ëŸ¬ ì¤„ ì…ë ¥í•˜ë ¤ë©´ ì¤„ë°”ê¿ˆí•˜ì„¸ìš”"></textarea>

        <h3>ì¶œë ¥ ê²°ê³¼</h3>
        <pre id="outputBox" class="output"></pre>

        <h3>ì±„ì  ê²°ê³¼</h3>
        <pre id="gradeBox" class="grade-box"></pre>
    </div>

</div>

<script src="{% static 'learning_program/editor.js' %}"></script>

</body>
</html>
