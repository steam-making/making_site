{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">경력 관리 - {{ teacher.first_name|default:teacher.username }}</h4>
    <a href="javascript:history.back()" class="btn btn-sm btn-outline-secondary">뒤로</a>
  </div>

  <div class="card shadow-sm">
    <div class="card-body p-0">
      <table class="table table-striped table-hover align-middle mb-0">
        <thead class="table-light text-center">
          <tr>
            <th style="width:24%">기관명</th>
            <th style="width:24%">기간</th>
            <th style="width:20%">경력</th>
            <th style="width:14%">직책</th>
            <th>세부내용</th>
          </tr>
        </thead>
        <tbody>
          {% for c in careers %}
          <tr>
            <td class="text-center">{{ c.organization }}</td>

            {# 기간: 시작 ~ 종료(없으면 현재) #}
            <td class="text-center">
              {{ c.start_date|date:"Y-m-d" }}~
              {% if c.end_date %}
                {{ c.end_date|date:"Y-m-d" }}
              {% else %}
                <span class="badge bg-secondary">현재</span>
              {% endif %}
            </td>

            {# 경력: 시작~종료까지의 기간. 종료 없으면 현재까지 #}
            <td class="text-center">{{ c.duration_display }}</td>

            <td class="text-center">{{ c.position|default:"-" }}</td>
            <td>{{ c.description|default:"-" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center text-muted py-4">등록된 경력이 없습니다.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
